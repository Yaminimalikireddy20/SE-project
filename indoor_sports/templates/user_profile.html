{% extends "base.html" %}
{% block title %}{{ user.firstname }}'s Profile{% endblock %}

{% block content %}
<div class="container py-5">
    <h1 class="text-center mb-4">{{ user.firstname }}'s Profile</h1>

    <!-- Avatar Section -->
    <div class="card mb-4 text-center">
        <div class="card-body">
            <h4>Avatar</h4>
            {% if avatar_base64 %}
                <!-- Avatar image -->
                <img src="data:image/jpeg;base64,{{ avatar_base64 }}" alt="User Avatar" 
                     class="img-fluid mt-2 rounded-circle" style="max-height: 150px;">
                <!-- Delete Avatar Button -->
                <form method="POST" action="{% url 'delete_avatar' %}" class="mt-3">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-danger">Delete Avatar</button>
                </form>
            {% else %}
                <!-- Default profile icon if no avatar -->
                <i class="fas fa-user-circle" style="font-size: 150px; color: #ccc;"></i>
                <p class="mt-2">No avatar uploaded.</p>
            {% endif %}
        </div>
    </div>

    <!-- Profile Information Table -->
    <div class="card mb-4">
        <div class="card-body">
            <h4 class="mb-3">Profile Information</h4>
            <table class="table table-striped table-bordered">
                <tbody>
                    <tr>
                        <th>Email</th>
                        <td>{{ user.emailid }}</td>
                    </tr>
                    <tr>
                        <th>First Name</th>
                        <td>{{ user.firstname }}</td>
                    </tr>
                    <tr>
                        <th>Last Name</th>
                        <td>{{ user.lastname }}</td>
                    </tr>
                    <tr>
                        <th>Contact Number</th>
                        <td>{{ user.contactnumber }}</td>
                    </tr>
                    <tr>
                        <th>Address</th>
                        <td>{{ user.address }}</td>
                    </tr>
                    <tr>
                        <th>City</th>
                        <td>{{ user.city }}</td>
                    </tr>
                    <tr>
                        <th>State</th>
                        <td>{{ user.state }}</td>
                    </tr>
                    <tr>
                        <th>Country</th>
                        <td>{{ user.country }}</td>
                    </tr>
                    <tr>
                        <th>ZIP Code</th>
                        <td>{{ user.zip_code }}</td>
                    </tr>
                    <tr>
                        <th>Gender</th>
                        <td>{{ user.gender }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Edit Profile Button -->
    <div class="text-center">
        <a href="{% url 'edit_profile' %}" class="btn btn-primary">Edit Profile</a>
    </div>
</div>
{% endblock %}